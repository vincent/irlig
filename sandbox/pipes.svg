<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  onload="startTimer()" viewBox="0 0 800 600" preserveAspectRatio="xMidYMid meet" xmlns:pipes="http://www.treebulder.de/pipes" onkeydown="handleKey()">
<defs>
<animate id="dummy" onbegin="startflow()" begin="90s" />
<g id="tiles" >

<g id="Tile-1">
<rect x="0" y="0" width="40" height="40"  stroke="black" rx="5" ry="5" fill="#fefefe"/>
<rect x="12.5" y="0" width="15" height="20"  stroke-width="0" stroke="none" fill="grey"/>
<line x1="20" y1="0" x2="20" y2="20" style="stroke-dasharray:20 20;stroke-dashoffset:20;"  stroke-width="11" stroke="blue">
<animate id="down" pipes:endDir="down" pipes:startDir="down" pipes:next="0" begin="indefinite" onend="showSummary(evt)" attributeName="stroke-dashoffset" from="20" to="0" dur="1s" fill="freeze" calcMode="evenPace"/>
</line>
</g>


<g id="Tile0">
<rect x="0" y="0" width="40" height="40" stroke="black" rx="5" ry="5"  fill="#fefefe"/>
<rect x="12.5" y="20" width="15" height="20"   stroke="none" fill="grey"/>
<line x1="20" y1="20" x2="20" y2="40" style="stroke-dasharray:20 20;stroke-dashoffset:20;"  stroke-width="11" stroke="blue">
<animate id="down" pipes:endDir="down" pipes:startDir="down" pipes:next="0" begin="indefinite" onend="nextAnim(evt)" attributeName="stroke-dashoffset" from="20" to="0" dur="1s" fill="freeze" calcMode="evenPace"/>
</line>
</g>

<g id="Tile1">
<rect x="0" y="0" width="40" stroke="black" rx="5" ry="5" height="40" fill="#fefefe"/>
<rect x="12.5" y="0" width="15" height="40"   stroke="none" fill="grey"/>
<line x1="20" y1="0" x2="20" y2="40" style="stroke-dasharray:40 40;stroke-dashoffset:40"  stroke-width="11" stroke="blue">
<animate id="down" pipes:endDir="down" pipes:startDir="down" onend="nextAnim(evt)" begin="indefinite" attributeName="stroke-dashoffset" from="40" to="0" dur="2s" fill="freeze" calcMode="evenPace"/>
</line>
<line   x1="20" y1="40" x2="20" y2="0" style="stroke-dasharray:40 40;stroke-dashoffset:40"  stroke-width="11" stroke="blue">
<animate id="down" pipes:endDir="up" pipes:startDir="up" onend="nextAnim(evt)" begin="indefinite" attributeName="stroke-dashoffset" from="40" to="0" dur="2s" fill="freeze" calcMode="evenPace"/>
</line>
</g>

<g id="Tile2">
<rect x="0" y="0" width="40" height="40" stroke="black" rx="5" ry="5"  fill="#fefefe"/>
<line x1="0" y1="20" x2="40" y2="20" stroke-width="15" stroke="grey"/>
<line x1="40" y1="20" x2="0" y2="20" style="stroke-dasharray:40 40;stroke-dashoffset:40"  stroke-width="11" stroke="blue">
<animate id="down" pipes:endDir="left" pipes:startDir="left" onend="nextAnim(evt)" begin="indefinite" attributeName="stroke-dashoffset" from="40" to="0" dur="2s" fill="freeze" calcMode="evenPace"/>
</line>
<line x1="0" y1="20" x2="40" y2="20" style="stroke-dasharray:40 40;stroke-dashoffset:40"  stroke-width="11" stroke="blue">
<animate id="down" pipes:endDir="right" pipes:startDir="right" onend="nextAnim(evt)" begin="indefinite" attributeName="stroke-dashoffset" from="40" to="0" dur="2s" fill="freeze" calcMode="evenPace"/>
</line>
</g>

<g id="Tile3">
<rect x="0" y="0" width="40" height="40" stroke="black" rx="5" ry="5"  fill="#fefefe"/>
<line x1="0" y1="20" x2="40" y2="20" stroke-width="15" stroke="grey"/>
<line x1="20" y1="0" x2="20" y2="40" stroke-width="15" stroke="grey"/>
<line x1="40" y1="20" x2="0" y2="20" style="stroke-dasharray:40 40;stroke-dashoffset:40"  stroke-width="11" stroke="blue">
<animate id="down" pipes:endDir="left" pipes:startDir="left" onend="nextAnim(evt)" begin="indefinite" attributeName="stroke-dashoffset" from="40" to="0" dur="2s" fill="freeze" calcMode="evenPace"/>
</line>
<line x1="0" y1="20" x2="40" y2="20" style="stroke-dasharray:40 40;stroke-dashoffset:40"  stroke-width="11" stroke="blue">
<animate id="down" pipes:endDir="right" pipes:startDir="right" onend="nextAnim(evt)" begin="indefinite" attributeName="stroke-dashoffset" from="40" to="0" dur="2s" fill="freeze" calcMode="evenPace"/>
</line>
<line x1="20" y1="0" x2="20" y2="40" style="stroke-dasharray:40 40;stroke-dashoffset:40"  stroke-width="11" stroke="blue">
<animate id="down" pipes:endDir="down" pipes:startDir="down" onend="nextAnim(evt)" begin="indefinite" attributeName="stroke-dashoffset" from="40" to="0" dur="2s" fill="freeze" calcMode="evenPace"/>
</line>
<line x1="20" y1="40" x2="20" y2="0" style="stroke-dasharray:40 40;stroke-dashoffset:40"  stroke-width="11" stroke="blue">
<animate id="down" pipes:endDir="up" pipes:startDir="up" onend="nextAnim(evt)" begin="indefinite" attributeName="stroke-dashoffset" from="40" to="0" dur="2s" fill="freeze" calcMode="evenPace"/>
</line>
</g>


<g id="Tile4">
<rect x="0" y="0" width="40" height="40" stroke="black" rx="5" ry="5"  fill="#fefefe"/>
<path d="M 20 0 A 20 20 0 0 0 40 20" fill="none" stroke-width="15" stroke="grey"/>
<path d="M 20 0 A 20 20 0 0 0 40 20" fill="none" style="stroke-dasharray:31.4 31.4;stroke-dashoffset:31.4"  stroke-width="11" stroke="blue">
<animate id="down" pipes:endDir="right" pipes:startDir="down" pipes:next="0" begin="indefinite" onend="nextAnim(evt)" attributeName="stroke-dashoffset" from="31" to="0" dur="1s" fill="freeze" calcMode="evenPace"/>
</path>
<path d="M 40 20 A 20 20 0 0 1 20 0" fill="none" style="stroke-dasharray:31.4 31.4;stroke-dashoffset:31.4"  stroke-width="11" stroke="blue">
<animate id="down" pipes:endDir="up" pipes:startDir="left" pipes:next="0" begin="indefinite" onend="nextAnim(evt)" attributeName="stroke-dashoffset" from="31" to="0" dur="1s" fill="freeze" calcMode="evenPace"/>
</path>
</g>


<g id="Tile5">
<rect x="0" y="0" width="40" height="40" stroke="black" rx="5" ry="5"  fill="#fefefe"/>
<path d="M 20 0 A 20 20 0 0 1 0 20" fill="none" stroke-width="15" stroke="grey"/>
<path d="M 20 0 A 20 20 0 0 1 0 20" fill="none" style="stroke-dasharray:31.4 31.4;stroke-dashoffset:31.4"  stroke-width="11" stroke="blue">
<animate id="down" pipes:endDir="left" pipes:startDir="down" pipes:next="0" begin="indefinite" onend="nextAnim(evt)" attributeName="stroke-dashoffset" from="31.4" to="0" dur="1s" fill="freeze" calcMode="evenPace"/>
</path>
<path d="M 0 20 A 20 20 0 0 0 20 0" style="stroke-dasharray:31.4 31.4;stroke-dashoffset:31.4" fill="none"   stroke-width="11" stroke="blue">
<animate id="down" pipes:endDir="up" pipes:startDir="right" pipes:next="0" begin="indefinite" onend="nextAnim(evt)" attributeName="stroke-dashoffset" from="31.4" to="0" dur="1s" fill="freeze" calcMode="evenPace"/>
</path>
</g>


<g id="Tile6">
<rect x="0" y="0" width="40" height="40"  stroke="black" rx="5" ry="5" fill="#fefefe"/>
<path d="M 20 40 A 20 20 0 0 0 0 20" fill="none" stroke-width="15" stroke="grey"/>
<path d="M 20 40 A 20 20 0 0 0 0 20" fill="none" style="stroke-dasharray:31.4 31.4;stroke-dashoffset:31.4"  stroke-width="11" stroke="blue">
<animate id="down" pipes:endDir="left" pipes:startDir="up" pipes:next="0" begin="indefinite" onend="nextAnim(evt)" attributeName="stroke-dashoffset" from="31.4" to="0" dur="1s" fill="freeze" calcMode="evenPace"/>
</path>
<path d="M 0 20 A 20 20 0 0 1 20 40" style="stroke-dasharray:31.4 31.4;stroke-dashoffset:31.4" fill="none"   stroke-width="11" stroke="blue">
<animate id="down" pipes:endDir="down" pipes:startDir="right" pipes:next="0" begin="indefinite" onend="nextAnim(evt)" attributeName="stroke-dashoffset" from="31.4" to="0" dur="1s" fill="freeze" calcMode="evenPace"/>
</path>
</g>


<g id="Tile7">
<rect x="0" y="0" width="40" height="40"  stroke="black" rx="5" ry="5" fill="#fefefe"/>
<path d="M 20 40 A 20 20 0 0 1 40 20" fill="none" stroke-width="15" stroke="grey"/>
<path d="M 20 40 A 20 20 0 0 1 40 20" fill="none" style="stroke-dasharray:31.4 31.4;stroke-dashoffset:31.4"  stroke-width="11" stroke="blue">
<animate id="down" pipes:endDir="right" pipes:startDir="up" pipes:next="0" begin="indefinite" onend="nextAnim(evt)" attributeName="stroke-dashoffset" from="31.4" to="0" dur="1s" fill="freeze" calcMode="evenPace"/>
</path>
<path d="M 40 20 A 20 20 0 0 0 20 40" style="stroke-dasharray:31.4 31.4;stroke-dashoffset:31.4" fill="none"   stroke-width="11" stroke="blue">
<animate id="down" pipes:endDir="down" pipes:startDir="left" pipes:next="0" begin="indefinite" onend="nextAnim(evt)" attributeName="stroke-dashoffset" from="31.4" to="0" dur="1s" fill="freeze" calcMode="evenPace"/>
</path>
</g>

</g>
<linearGradient id="vgrad">
<stop offset="0%" stop-color="white" stop-opacity="0.8"/>
<stop offset="100%" stop-color="black" stop-opacity="0"/>
</linearGradient>

</defs>


<!--background-->
<path d="M0 0 L 800 0 L 800 600 L 0 600 z" stroke="#13007c" stroke-width="5" fill="#ffbf00"/>
<g transform="translate(-100 0)">
<path d="M200 20 L 760 20 L 760 580 L 200 580 z" stroke="#13007c"  stroke-width="3" fill="none"/>
</g>






<g transform="translate(15 50)">
<rect x="20" y="-20" width="60" height="310" fill="#13007c"/>

</g>


<!--this group contains the buttons-->
<g transform="translate(0 20)">
<a xlink:href="">
	<rect  fill="white" x="10" y="330" width="80" height="20" stroke="#13007c" rx="2" ry="2"/>
	<text x="35" y="344" font-size="9pt" font-weight="600" fill="#13007c">skip!</text>
	<rect  fill="white" opacity="0" x="10" y="330" width="80" height="20" onclick="skip(evt)" rx="2" ry="2"/>
	</a>
	<text x="10" y="365" fill="#13007c" font-size="9pt">
	<tspan x="10" y="363">or press any</tspan>
	<tspan x="10" y="375">key to skip</tspan>
	</text>
	</g>
<a xlink:href="">
	<rect  fill="white" x="710" y="70" width="80" height="20" stroke="#13007c" rx="2" ry="2"/>
	<text x="723" y="84" font-size="9pt" font-weight="600" fill="#13007c">start flow</text>
	<rect  fill="white" opacity="0" x="710" y="70" width="80" height="20" onclick="startflow2(evt)" rx="2" ry="2"/>
	</a>
	<text text-anchor="end" x="790" y="103" fill="#13007c" font-size="9pt">to get time bonus!</text>

<a xlink:href="">
	<rect  fill="white" x="670" y="535" width="80" height="20" stroke="#13007c" rx="2" ry="2"/>
	<text x="680" y="549" font-size="9pt" font-weight="600" fill="#13007c">new game</text>
	<rect  fill="white" opacity="0" x="670" y="535" width="100" height="30" onclick="newGame()" rx="2" ry="2"/>
	</a>

<a xlink:href="">
	<rect  fill="white" x="670" y="560" width="80" height="20" stroke="#13007c"  rx="2" ry="2"/>
	<text x="680" y="574" font-size="9pt" font-weight="600" fill="#13007c">game info</text>
	<rect  fill="white" opacity="0" x="670" y="560" width="100" height="30" onclick="showAbout()" rx="2" ry="2"/>
	</a>






<!--The Gameboard will be generated in this group-->
<g transform="translate(25 39)" id="previewList">
</g>
<!--The priviewList will be generated in this group-->
<g transform="translate(100 20)" id="gameboard">
</g>


<g transform="translate(15 50)">
<rect x="25" y="234.5" width="50" height="50" fill="none" stroke="red" stroke-width="5"/>
<rect x="20" y="-20" width="60" height="250" fill="white" opacity="0.6"/>
</g>










<rect x="665" y="20" width="125" height="35" fill="#13007c" stroke="#13007c" stroke-width="2"/>
<text id="Clock" x="668" y="47" font-size="20pt" fill="white" font-weight="900" >-01:30:00</text>

<text x="665" y="260" font-size="16" fill="#13007c"  font-weight="900" >Points this Level </text>
<rect x="665" y="265" width="125" height="20" fill="#13007c" stroke="#13007c" stroke-width="2"/>
<text id="points" x="780" y="280" font-size="16" fill="white" text-anchor="end" font-weight="900" >0</text>
<g transform="translate(0 50)">
<text x="665" y="260" font-size="16" fill="#13007c"  font-weight="900" >Points total</text>
<rect x="665" y="265" width="125" height="20" fill="#13007c" stroke="#13007c" stroke-width="2"/>
<text id="tpoints" x="780" y="280" font-size="16" fill="white" text-anchor="end" font-weight="900" >0</text>
</g>
<text x="725" y="400" font-size="36" fill="#13007c" text-anchor="middle" font-weight="900" >Level</text>
<text id="mlvl" x="725" y="450" font-size="36" fill="#13007c" text-anchor="middle"  font-weight="900" >0</text>

<g id="gowin" visibility="hidden">
<rect x="0" y="0" width="800" height="600" fill="white" opacity="0.5"/>
<text x="400" y="320" font-size="80" fill="red" font-weight="900" text-anchor="middle">Game Over</text>
<g onclick="newGame()">
<rect rx="10" ry="10"  x="300" y="400" width="200" height="50" fill="green"/>
<text x="400" y="440" font-size="30" fill="white" font-weight="900" text-anchor="middle">play again !</text>
</g>

<g id="n_Input" transform="translate(100,100)" visibility="hidden">
<rect x="-100" y="-100" width="800" height="600" fill="white" opacity="0.8"/>
<text  x="240" y="-50" font-size="26 px" >Please enter your Name:</text>

<g transform="translate(100 200)" onclick="addLetter('_')">
<rect x="0" y="0" rx="5" ry="5" width="40" height="40"/>
<text x="20" y="30" font-size="25" stroke="white" text-anchor="middle">_</text>
</g>
<g transform="translate(150 200)" onclick="addLetter('-')">
<rect x="0" y="0" rx="5" ry="5" width="40" height="40"/>
<text x="20" y="30" font-size="25" stroke="white" text-anchor="middle">-</text>
</g>
<g transform="translate(200 200)" onclick="addLetter('.')">
<rect x="0" y="0" rx="5" ry="5" width="40" height="40"/>
<text x="20" y="30" font-size="25" stroke="white" text-anchor="middle">.</text>
</g>
<g transform="translate(250 200)" onclick="addLetter(',')">
<rect x="0" y="0" rx="5" ry="5" width="40" height="40"/>
<text x="20" y="30" font-size="25" stroke="white" text-anchor="middle">,</text>
</g>
<g transform="translate(250 300)" onclick="deleteLetter()">
<rect x="0" y="0" rx="5" ry="5" width="40" height="40"/>
<text x="20" y="30" font-size="15" stroke="white" text-anchor="middle">del</text>
</g>
<rect x="300" y="150" width="300" height="30" fill="grey"/>
<text  id="txt_Name"  x="300" y="174" font-size="26 px" >Guest</text>
<text  id="go_total"  x="340" y="124" font-size="26 px" >0</text><text  x="440" y="124" font-size="26 px" >Points</text>
<a onclick="post()">
<rect x="400" y="250" width="100" height="30" fill="green" />
<text  id="txt_Name"  x="450" y="278" text-anchor="middle" fill="white" font-size="26 px" >save</text>
</a>
</g>

</g>
<g id="about" visibility="hidden">
<rect x="0" y="0" width="800" height="600" fill="white" opacity="0.5"/>
<text x="400" y="120" font-size="80" fill="blue" font-weight="900" text-anchor="middle">SVG-Pipes 1.0</text>
<text x="500" y="590" font-size="12" fill="black" font-weight="900" text-anchor="middle">by h.will and j.krug</text>
<a>
<g onclick="newGame()">
<rect rx="10" ry="10"  x="300" y="400" width="100" height="30" fill="green"/>
<text x="350" y="422" font-size="30" fill="white" font-weight="900" text-anchor="middle">back</text>
</g>
</a>
</g>
<g id="levelSummary" visibility="hidden">
<rect x="0" y="0" width="800" height="600" fill="white" opacity="0.5"/>
<text id="lvl_num" x="200"  y="120" font-size="30" fill="black" font-weight="900" text-anchor="end">Level 0</text>

<text id="lvl_info" x="400" y="220" font-size="20" fill="black" font-weight="900" text-anchor="end">0</text>
<text x="300" y="220" font-size="20" fill="black" font-weight="900" text-anchor="end">Points so far:</text>

<text id="lvl_points" x="400" y="260" font-size="20" fill="black" font-weight="900" text-anchor="end">0</text>
<text x="300" y="260" font-size="20" fill="black" font-weight="900" text-anchor="end">Points this Level:</text>

<text id="lvl_time" x="400" y="300" font-size="20" fill="black" font-weight="900" text-anchor="end">0</text>
<text x="300" y="300" font-size="20" fill="black" font-weight="900" text-anchor="end">time Bonus:</text>

<text id="lvl_total" x="400" y="340" font-size="30" fill="black" font-weight="900" text-anchor="end">0</text>
<text x="300" y="340" font-size="20" fill="black" font-weight="900" text-anchor="end">Total Points:</text>
<a>
<g onclick="nextLevel()">
<rect rx="10" ry="10"  x="400" y="400" stroke="blue" width="100" height="30" fill="green"/>
<text x="450" y="420" font-size="15" fill="white" font-weight="900" text-anchor="middle">next level</text>
</g>
</a>
</g>
</svg>